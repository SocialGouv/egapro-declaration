<!DOCTYPE html>
<title>Egalité professionnelle - Ministère du Travail</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width">
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<link rel="stylesheet" href="main.css">

<script src="https://unpkg.com/page/page.js"></script>

<form action="/">
  <header>
    <img src="/marianne.jpg" alt="Marianne">
    <hgroup>
      <h1>Égalité professionnelle</h1>
      <h2>Index 2020 au titre de l'année 2019</h2>
    </hgroup>
  </header>

  <main></main>

  <nav>
    <a class=button href="/" previous>Précédent</a>
    <progress max=0 value=0></progress>
    <button next>Suivant</button>
  </nav>
</form>


<!-- TEMPLATES -->


<template name=intro>
  <h1>A propos de la transmission des indicateurs et du niveau de résultat</h1>

  <p>Les informations recueillies sur ce formulaire répondent à l’obligation de transmission aux services du ministre chargé du travail des indicateurs et du niveau de résultat en matière d’écart de rémunération entre les femmes et les hommes prévue à l’article D.1142-5 du code du travail au 1er mars 2020.</p>

  <p class=warning>Attention, si vous avez déjà fait votre déclaration sur le site Index Egapro, vous ne devez pas faire une nouvelle déclaration ici.</p>
</template>


<template name=declarant>
  <h1>Identification du déclarant pour tout contact ultérieur</h1>

  <form>
    <fieldset>
      <!-- fieldset display flex can't work in Chromium -->
      <div class=row>
        <div>
          <label for=field-nom>Nom</label>
          <input id=field-nom name=nom required>
        </div>
        <div>
          <label for=field-prenom>Prénom</label>
          <input id=field-prenom name=prenom required>
        </div>
      </div>
    </fieldset>

    <fieldset>
      <div>
        <label for=field-tel>Téléphone professionel (10 chiffres)</label>
        <input id=field-tel name=tel>
      </div>
    </fieldset>

    <fieldset>
      <p>Adresse de l'entreprise déclarante ou siège de l'UES</p>
      <div class=row>
        <div>
          <select name=region>
            <option value="">Région</option>
          </select>
        </div>
        <div>
          <select name=departement>
            <option value="">Département</option>
          </select>
        </div>
      </div>

      <div class=row>
        <div>
          <label for="field-adresse">Adresse</label>
          <input id=field-adresse name=adresse>
        </div>
      </div>

      <div class=row>
        <div>
          <label for="field-codepostal">Code postal (5 car.)</label>
          <input id=field-codepostal name=codepostal>
        </div>
        <div>
          <label for="field-commune">Commune</label>
          <input id=field-commune name=commune>
        </div>
      </div>
    </fieldset>
  </form>
</template>

<template name=annee>
  <h1>Année et périmètre retenus pour le calcul
    et la publication des indicateurs</h1>

  <fieldset>
    <div class=row>
      <label for=field-annee>Année au titre de laquelle vous transmettez vos indicateurs</label>
      <input name=annee value="" readonly disabled>
    </div>
  </fieldset>

  <fieldset>
    <div class=row>
      <h4>Vous êtes une</h4>
      <label><input type=radio name=statut value="entreprise"> Entreprise</label>
      <label><input type=radio name=statut value="ues"> Unité Économique et Sociale (UES)</label>
    </div>
  </fieldset>

  <fieldset>
    <div class=row>
      <h4>Tranches d'effectifs</h4>
      <label><input type=radio name=effectifs value="50"> De 50 à 100 inclus</label>
      <label><input type=radio name=effectifs value="250"> De 251 à 999 inclus</label>
      <label><input type=radio name=effectifs value="1000"> 1000 ou plus</label>
    </div>
  </fieldset>

  <h1>Période de référence considérée pour le calcul des indicateurs</h1>

  <fieldset>
    <div class=row>
      <h4>Période de référence</h4>
      <label><input type=radio name=periode value="civile"> Année civile</label>
      <label><input type=radio name=periode value="autre"> Autre période de référence</label>
    </div>
  </fieldset>

  <fieldset name=fieldset-date>
    <div class=row>
      <label for="field-date">Date de début de la période de référence</label>
      <input id="field-date" type=date name=date min="2019-01-01" max="2019-12-31">
    </div>
  </fieldset>

  <fieldset>
    <div class=row>
      <label for="field-salaries">Nombre de salariés pris en compte pour le calcul des indicateurs sur la période de référence</label>
      <input id="field-salaries" type=number name=salaries min=0>
    </div>
  </fieldset>

  <script>
    const annee = main.querySelector('[name=date]')
    const date = new Date()
    annee.min = `${date.getFullYear() - 1}-01-01`
    annee.max = `${date.getFullYear() - 1}-12-31`
    main.querySelector('[name=annee]').value = date.getFullYear() - 1
    Array.from(main.querySelectorAll('[name=periode]')).forEach(function(radio) {
      radio.addEventListener('change', function(event) {
      const value = event.target.value
      main.querySelector('[name=fieldset-date]').disabled = value !== 'autre'
    })
    })
  </script>
</template>

<template name=404>
  <h1>La page n'existe pas</h1>
  <p>Vous êtes arrivé sur cette page par erreur. <a href="/">Retourner à l'accueil</a></p>
</template>


<script src=main.js></script>
