---
layout: tunnel
title: "Vous êtes une Unité Économique et Sociale (UES)"
---
<h1>{{ page.title }}</h1>

<fieldset>
  <div class=row>
    <div>{% include input.html name="entreprise.ues.raison_sociale" label="Nom de l'UES" required=true %}</div>
  </div>
</fieldset>

<fieldset>
  <div class=row>
    <div>{% include input.html name="entreprise.raison_sociale" label="Nom de l'entreprise déclarant pour le compte de l'UES" required=true %}</div>
  </div>
</fieldset>

<fieldset>
  <div class=row>
    <div>{% include input.html name="entreprise.siren" label="Numéro SIREN de cette entreprise" required=true value="" readonly=true %}</div>
  </div>
</fieldset>

<fieldset>
  <div class=row>
    <div>{% include select.html name="entreprise.code_naf" label="Code NAF de cette entreprise" required=true %}</div>
  </div>
</fieldset>

<fieldset>
  <div class=row>
    <div>{% include input.html type="number" name="_entreprise.ues.nombre_entreprises" label="Nombre d'entreprises composant l'UES (le déclarant compris)" required=true min=2 %}</div>
  </div>
</fieldset>

<script>
  async function getNafCodes() {
    const response = await request('GET', '/config?key=NAF')
    return response.data.NAF
  }
  
  document.onready = async function() {
    const nafs = await getNafCodes()
    const select = selectField('entreprise.code_naf')
    const options = Object.keys(nafs).map(code => ({ value: code, label: `${code} — ${nafs[code]}` }))
    buildSelectOptions(select, options, app.data['entreprise.code_naf'])

    const siren = selectField('entreprise.siren')
    siren.value = app.data['entreprise.siren']
  }
</script>
